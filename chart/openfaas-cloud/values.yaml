# Default values for openfaas-cloud.
# This is a YAML-formatted file.

ofBuilder:
  image: ghcr.io/openfaas/ofc-of-builder:0.14.4
  replicas: 1

buildKit:
  image: moby/buildkit:v0.7.2
  privileged: true


edgeAuth:
  image: ghcr.io/openfaas/ofc-edge-auth:0.14.4
  replicas: 1
  enableOAuth2: true
  oauthProvider: github
  ## OAuthProviderBaseURL can be left blank for github, Gitlab users need to provide the url for their gitlab instance
  oauthProviderBaseURL:
  ## clientId is generated by your Oauth App, and needs to be set to connect correctly
  clientId: ""
  writeDebug: false

edgeRouter:
  image: ghcr.io/openfaas/ofc-edge-router:0.14.4

tls:
  enabled: false
  ## email is used to send cert-renewal emails, it is required by LetsEncrypt
  email: "email@example.com"

  ## Default to using the staging issuer, there's a limit to 5 certs per domain on the prod issuer, so only when you are
  ##  happy should you swap this to prod
  issuerType: staging

  ## dnsService, one of "route53", "digitalocean" , "cloudflare" or "clouddns"
  dnsService: "digitalocean"

  ## route53 specific conofig, required if dnsService is set t route53
  route53:
    region: eu-west-1
    accessKeyID:
    ## ambientCredentials this should be set to true if you are using an AWS ambient credentials provider, such as kube2iam
    ambientCredentials: false

  cloudflare:
    email:

  clouddns:
    projectID:

## Values for the Ingress resources
ingress:
  ## Ingress class could be set to traefik for example
  class: nginx
  maxConnections: 20
  requestsPerMinute: 600

customers:
  ## customersURL is the url to the raw file that containers the list of users who are able to use this installation
  url: ""
  ## If you want to keep the customers for your OFC installation secret you can set the names in a kubernetes secret as
  ## indicated in the openfaas-cloud docs on customers. If you want this option, set this to true.
  customersSecret: false

networkPolicies:
  ## If true, network policies are enabled, otherwise they are not.
  enabled: true


## global values that are re-used across multiple components
global:

  ## rootDomain is the root domain of the ofc installation o6s.io for example
  rootDomain: "example.com"
  enableECR: false
  imagePullPolicy: IfNotPresent
  ## coreNamespace this is used where we need to communicate with core openfaas components
  coreNamespace: openfaas

  ## functionsNamespace this is where the default openfaas-fns live, like "echo" so our core services can call them
  functionsNamespace: openfaas-fn

  ## httpProbe set this to false to use an exec probe instead - Istio users might want to set this to false.
  httpProbe: true
